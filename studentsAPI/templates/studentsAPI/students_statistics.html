{% extends "studentsAPI/base.html"%}
{% load static %}
{% block content %}
<body>
<h2>Statistics</h2>
    <p>Average age of students: {{ avg_age }}</p>
    <p>Students count by class:</p>
    <ul>
        {% for item in students_count_by_class %}
            <li>{{ item.class }}: {{ item.count }}</li>
        {% endfor %}
    </ul>
    <p>Student count by country:</p>
    <ul>
        {% for item in students_count_by_country %}
            <li>{{ item.country }}: {{ item.count }}</li>
        {% endfor %}
    </ul>
</body>
   
    <table class="table table-borderless">
        <table class="table table-striped table-hover">
            <thead class="bg-primary text-white">
              <tr>
                <th>Name</th>
                <th>date of birth</th>
                <th>class_id</th>
                <th>country_id</th>
                <th>
                  <a href="{% url 'students_insert' %}" class="btn btn-outline-success">
                  <i class="fa fa-user" aria-hidden="true"></i> Add New Student
                  </a>
          </th>
        </tr>
    </thead>
    <tbody>
              {% for student in students_statistics %}
              <tr>
                <td>{{ student.name }}</td>
                <td>{{ student.date_of_birth }}</td>
                <td>{{ student.class_id_id }}</td>
                <td>{{ student.country_id_id }}</td>
                <td>
                  <a href="{% url 'students_update' id=student.id %}" class="btn btn-sm btn-outline-primary">
                    <i class="fas fa-edit"></i> Edit
                  </a>
                  <a href="{% url 'students_delete' id=student.id %}" class="btn btn-sm btn-outline-danger">
                    <i class="fas fa-trash"></i> Delete
                  </a>
                </td>
                
              </tr>
              {% empty %}
              <tr>
                <td colspan="4">No students found.</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
          


{% endblock content %}